(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./assets/main.js":
/*!************************!*\
  !*** ./assets/main.js ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "./node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "./node_modules/core-js/modules/es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ "./node_modules/core-js/modules/es.symbol.iterator.js");
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "./node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.sort.js */ "./node_modules/core-js/modules/es.array.sort.js");
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.date.to-string.js */ "./node_modules/core-js/modules/es.date.to-string.js");
/* harmony import */ var core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_date_to_string_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.parse-int.js */ "./node_modules/core-js/modules/es.parse-int.js");
/* harmony import */ var core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_parse_int_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "./node_modules/core-js/modules/es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "./node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/web.timers.js */ "./node_modules/core-js/modules/web.timers.js");
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/web.url.js */ "./node_modules/core-js/modules/web.url.js");
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./styles/main.scss */ "./assets/styles/main.scss");
/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_styles_main_scss__WEBPACK_IMPORTED_MODULE_13__);














function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



var Routing = __webpack_require__(/*! ../vendor/friendsofsymfony/jsrouting-bundle/Resources/public/js/router */ "./vendor/friendsofsymfony/jsrouting-bundle/Resources/public/js/router.js");

var Routes = __webpack_require__(/*! ./js-routes.json */ "./assets/js-routes.json");

var goods = document.getElementById('goods');

var axios = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");

Routing.setRoutingData(Routes);
var filters = {};
var sorts = {};
var page = 1;
document.addEventListener('DOMContentLoaded', function (event) {
  axios.post(Routing.generate('getGoods'), {
    page: page
  }).then(function (response) {
    Insert(response.data);
  });
  setURL(page, filters, sorts);
});

window.onpopstate = function (event) {
  axios.post(Routing.generate('getGoods'), {
    "filters": event.state.filters,
    "sorts": event.state.sorts,
    "page": event.state.page
  }).then(function (response) {
    Insert(response.data);
  });
};

document.addEventListener('click', function (event) {
  var target = event.target;

  if (target.type === "button" && target.className === "buttonAdd" && isNaN(parseInt(target.id)) === false) {
    var _count = document.getElementById('goodAmount_' + target.id);

    if (_count.value > 0) {
      axios.post(Routing.generate('addToCard', {
        id: target.id
      }), {
        'id': target.id,
        'amount': _count.value,
        page: page
      }).then(function (response) {
        var block = document.getElementById('good_' + target.id);
        block.style.backgroundColor = '#c2ff88';
        target.value = 'Added';
        setTimeout(function () {
          target.value = "Add";
          block.style.backgroundColor = 'white';
        }, 2000);
      });
    } else {
      var error = document.getElementById('error_' + target.id);
      error.style.display = 'inherit';
      setTimeout(function () {
        error.style.display = 'none';
      }, 2000);
    }
  } // ----------- PAGINATOR ----------- //


  if (target.id === 'selectPage') {
    page = target.dataset.page;
    Paginate(target, parseInt(target.dataset.page));
    setURL(page, filters, sorts);
  }
}); // ----------- BUTTONS ----------- //

var buttonFilter = document.getElementById('buttonFilter');
buttonFilter.addEventListener('click', function () {
  axios.post(Routing.generate('getGoods'), {
    filters: filters,
    sorts: sorts,
    page: 1
  }).then(function (response) {
    buttonFilter.value = 'Filtered';
    setTimeout(function () {
      buttonFilter.value = "Filter";
    }, 2000);
    Insert(response.data);
    setURL(1, filters, sorts);
  });
});
var buttonFilterClear = document.getElementById('clearFilter');
buttonFilterClear.addEventListener('click', function () {
  filters = {};
  minPrice.value = 0;
  maxPrice.value = 0;
  count.value = 1;
  category.selectedIndex = 0;
  axios.post(Routing.generate('getGoods'), {
    filters: filters,
    sorts: sorts,
    page: 1
  }).then(function (response) {
    buttonFilterClear.value = 'Success';
    setTimeout(function () {
      buttonFilterClear.value = "Clear";
    }, 2000);
    Insert(response.data);
    setURL(1, {}, sorts);
  });
});
var buttonPriceSort = document.getElementById('priceSort');
buttonPriceSort.addEventListener('click', function () {
  sorts = {
    'type': 'price',
    'order': buttonPriceSort.dataset.sort
  };
  buttonPriceSort.dataset.sort === "ASC" ? buttonPriceSort.dataset.sort = "DESC" : buttonPriceSort.dataset.sort = "ASC";
  axios.post(Routing.generate('getGoods'), {
    filters: filters,
    sorts: sorts,
    page: 1
  }).then(function (response) {
    buttonPriceSort.value = 'Sorted';
    setTimeout(function () {
      buttonPriceSort.value = "Sort by price";
    }, 2000);
    Insert(response.data);
    setURL(1, filters, sorts);
  });
});
var buttonCountSort = document.getElementById('countSort');
buttonCountSort.addEventListener('click', function () {
  sorts = {
    'type': 'count',
    'order': buttonCountSort.dataset.sort
  };
  buttonCountSort.dataset.sort === "ASC" ? buttonCountSort.dataset.sort = "DESC" : buttonCountSort.dataset.sort = "ASC";
  axios.post(Routing.generate('getGoods'), {
    filters: filters,
    sorts: sorts,
    page: 1
  }).then(function (response) {
    buttonCountSort.value = 'Sorted';
    setTimeout(function () {
      buttonCountSort.value = "Sort by count";
    }, 2000);
    Insert(response.data);
    setURL(1, filters, sorts);
  });
});
var buttonClearSort = document.getElementById('clearSort');
buttonClearSort.addEventListener('click', function () {
  sorts = {};
  axios.post(Routing.generate('getGoods'), {
    filters: filters,
    sorts: sorts,
    page: 1
  }).then(function (response) {
    buttonClearSort.value = 'Success';
    setTimeout(function () {
      buttonClearSort.value = "Clear";
    }, 2000);
    Insert(response.data);
    setURL(1, filters, {});
  });
}); // ----------- GET DATA FILTER ----------- //

var category = document.getElementById('category');
category.addEventListener('change', function (event) {
  filters["category"] = category[category.selectedIndex].id;
});
var minPrice = document.getElementById('minNum');
minPrice.addEventListener('change', function (event) {
  var price = filters.price ? filters.price.max : maxPrice.value;
  filters["price"] = {
    'min': minPrice.value,
    'max': price
  };
});
var maxPrice = document.getElementById('maxNum');
maxPrice.addEventListener('change', function (event) {
  var price = filters.price ? filters.price.min : minPrice.value;
  filters["price"] = {
    'min': price,
    'max': maxPrice.value
  };
});
var count = document.getElementById('minCount');
count.addEventListener('change', function () {
  filters["minCount"] = count.value;
}); // ----------- CUSTOM METHODS ----------- //

function Insert(data) {
  while (goods.lastElementChild) {
    goods.removeChild(goods.lastElementChild);
  }

  for (var i = 0; i < data.length - 1; i++) {
    var form = document.createElement('form');
    form.innerHTML = data[i];
    goods.appendChild(form);
  }

  var paginator = document.getElementById('paginator');
  paginator.innerHTML = data[data.length - 1];
}

function Paginate(target, page) {
  target.style.color = 'dodgerblue';
  target.style.textDecoration = 'underline';
  axios.post(Routing.generate('getGoods'), {
    filters: filters,
    sorts: sorts,
    page: page
  }).then(function (response) {
    Insert(response.data);
    target.style.color = '#5eb5e0';
    target.style.textDecoration = 'none';
  });
}

function setURL(page_data, filters_data, sorts_data) {
  var params = new URLSearchParams();
  setURLParams(params, {
    "page": page_data
  });
  setURLParams(params, filters_data);
  setURLParams(params, sorts_data);
  history.pushState({
    "filters": filters_data,
    "page": page_data,
    "sorts": sorts_data
  }, '', '?' + params.toString());
}

function setURLParams(params, value) {
  for (var key in value) {
    if (_typeof(value[key]) === 'object') {
      for (var key_inner in value[key]) {
        params.append(key_inner, value[key][key_inner]);
      }
    } else if (value[key].length !== 0) params.append(key, value[key]);
  }
}

/***/ }),

/***/ "./assets/styles/main.scss":
/*!*********************************!*\
  !*** ./assets/styles/main.scss ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

},[["./assets/main.js","runtime","vendors~admin~cart~main","vendors~main","admin~cart~main"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvc3R5bGVzL21haW4uc2NzcyJdLCJuYW1lcyI6WyJSb3V0aW5nIiwicmVxdWlyZSIsIlJvdXRlcyIsImdvb2RzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImF4aW9zIiwic2V0Um91dGluZ0RhdGEiLCJmaWx0ZXJzIiwic29ydHMiLCJwYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicG9zdCIsImdlbmVyYXRlIiwidGhlbiIsInJlc3BvbnNlIiwiSW5zZXJ0IiwiZGF0YSIsInNldFVSTCIsIndpbmRvdyIsIm9ucG9wc3RhdGUiLCJzdGF0ZSIsInRhcmdldCIsInR5cGUiLCJjbGFzc05hbWUiLCJpc05hTiIsInBhcnNlSW50IiwiaWQiLCJjb3VudCIsInZhbHVlIiwiYmxvY2siLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInNldFRpbWVvdXQiLCJlcnJvciIsImRpc3BsYXkiLCJkYXRhc2V0IiwiUGFnaW5hdGUiLCJidXR0b25GaWx0ZXIiLCJidXR0b25GaWx0ZXJDbGVhciIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJjYXRlZ29yeSIsInNlbGVjdGVkSW5kZXgiLCJidXR0b25QcmljZVNvcnQiLCJzb3J0IiwiYnV0dG9uQ291bnRTb3J0IiwiYnV0dG9uQ2xlYXJTb3J0IiwicHJpY2UiLCJtYXgiLCJtaW4iLCJsYXN0RWxlbWVudENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJpIiwibGVuZ3RoIiwiZm9ybSIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsInBhZ2luYXRvciIsImNvbG9yIiwidGV4dERlY29yYXRpb24iLCJwYWdlX2RhdGEiLCJmaWx0ZXJzX2RhdGEiLCJzb3J0c19kYXRhIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2V0VVJMUGFyYW1zIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInRvU3RyaW5n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S0FBSyxDQUFDMEMsR0FBRCxDQUFaLE1BQXNCLFFBQTFCLEVBQW1DO0FBQy9CLFdBQUksSUFBSUMsU0FBUixJQUFxQjNDLEtBQUssQ0FBQzBDLEdBQUQsQ0FBMUI7QUFDSU4sY0FBTSxDQUFDUSxNQUFQLENBQWNELFNBQWQsRUFBeUIzQyxLQUFLLENBQUMwQyxHQUFELENBQUwsQ0FBV0MsU0FBWCxDQUF6QjtBQURKO0FBRUgsS0FIRCxNQUtBLElBQUkzQyxLQUFLLENBQUMwQyxHQUFELENBQUwsQ0FBV2pCLE1BQVgsS0FBc0IsQ0FBMUIsRUFDSVcsTUFBTSxDQUFDUSxNQUFQLENBQWNGLEdBQWQsRUFBbUIxQyxLQUFLLENBQUMwQyxHQUFELENBQXhCO0FBQ1A7QUFDSixDOzs7Ozs7Ozs7OztBQzVPRCx1QyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL3N0eWxlcy9tYWluLnNjc3MnO1xuXG5jb25zdCBSb3V0aW5nID0gcmVxdWlyZShcIi4uL3ZlbmRvci9mcmllbmRzb2ZzeW1mb255L2pzcm91dGluZy1idW5kbGUvUmVzb3VyY2VzL3B1YmxpYy9qcy9yb3V0ZXJcIik7XG5sZXQgUm91dGVzID0gcmVxdWlyZSgnLi9qcy1yb3V0ZXMuanNvbicpO1xubGV0IGdvb2RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvb2RzJyk7XG5jb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XG5Sb3V0aW5nLnNldFJvdXRpbmdEYXRhKFJvdXRlcyk7XG5cbmxldCBmaWx0ZXJzID0ge307XG5sZXQgc29ydHMgPSB7fTtcbmxldCBwYWdlID0gMTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGF4aW9zLnBvc3QoUm91dGluZy5nZW5lcmF0ZSgnZ2V0R29vZHMnKSwge1xuICAgICAgICBwYWdlXG4gICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBJbnNlcnQocmVzcG9uc2UuZGF0YSlcbiAgICAgICAgfSlcbiAgICBzZXRVUkwocGFnZSwgZmlsdGVycywgc29ydHMpXG59KVxuXG53aW5kb3cub25wb3BzdGF0ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgYXhpb3MucG9zdChSb3V0aW5nLmdlbmVyYXRlKCdnZXRHb29kcycpLCB7XG4gICAgICAgIFwiZmlsdGVyc1wiOiBldmVudC5zdGF0ZS5maWx0ZXJzLFxuICAgICAgICBcInNvcnRzXCI6IGV2ZW50LnN0YXRlLnNvcnRzLFxuICAgICAgICBcInBhZ2VcIjogZXZlbnQuc3RhdGUucGFnZVxuICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgSW5zZXJ0KHJlc3BvbnNlLmRhdGEpXG4gICAgICAgIH0pXG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICBpZiAodGFyZ2V0LnR5cGUgPT09IFwiYnV0dG9uXCIgJiYgdGFyZ2V0LmNsYXNzTmFtZSA9PT0gXCJidXR0b25BZGRcIiAmJiBpc05hTihwYXJzZUludCh0YXJnZXQuaWQpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvb2RBbW91bnRfJyArIHRhcmdldC5pZClcbiAgICAgICAgaWYgKGNvdW50LnZhbHVlID4gMCkge1xuICAgICAgICAgICAgYXhpb3MucG9zdChSb3V0aW5nLmdlbmVyYXRlKCdhZGRUb0NhcmQnLCB7aWQ6IHRhcmdldC5pZH0pLCB7XG4gICAgICAgICAgICAgICAgJ2lkJzogdGFyZ2V0LmlkLFxuICAgICAgICAgICAgICAgICdhbW91bnQnOiBjb3VudC52YWx1ZSxcbiAgICAgICAgICAgICAgICBwYWdlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29vZF8nK3RhcmdldC5pZClcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNjMmZmODgnO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQudmFsdWUgPSAnQWRkZWQnO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC52YWx1ZSA9IFwiQWRkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jay5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yXycgKyB0YXJnZXQuaWQpXG4gICAgICAgICAgICBlcnJvci5zdHlsZS5kaXNwbGF5ID0gJ2luaGVyaXQnXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBlcnJvci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tIFBBR0lOQVRPUiAtLS0tLS0tLS0tLSAvL1xuICAgIGlmICh0YXJnZXQuaWQgPT09ICdzZWxlY3RQYWdlJyl7XG4gICAgICAgIHBhZ2UgPSB0YXJnZXQuZGF0YXNldC5wYWdlXG4gICAgICAgIFBhZ2luYXRlKHRhcmdldCwgcGFyc2VJbnQodGFyZ2V0LmRhdGFzZXQucGFnZSkpXG4gICAgICAgIHNldFVSTChwYWdlLCBmaWx0ZXJzLCBzb3J0cylcbiAgICB9XG4gICAgXG59KVxuXG4vLyAtLS0tLS0tLS0tLSBCVVRUT05TIC0tLS0tLS0tLS0tIC8vXG5sZXQgYnV0dG9uRmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1dHRvbkZpbHRlcicpO1xuYnV0dG9uRmlsdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGF4aW9zLnBvc3QoUm91dGluZy5nZW5lcmF0ZSgnZ2V0R29vZHMnKSwge1xuICAgICAgICBmaWx0ZXJzLCBzb3J0cywgcGFnZTogMVxuICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgYnV0dG9uRmlsdGVyLnZhbHVlID0gJ0ZpbHRlcmVkJztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGJ1dHRvbkZpbHRlci52YWx1ZSA9IFwiRmlsdGVyXCJcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgSW5zZXJ0KHJlc3BvbnNlLmRhdGEpXG4gICAgICAgICAgICBzZXRVUkwoMSxmaWx0ZXJzLCBzb3J0cylcbiAgICAgICAgfSlcbn0pXG5cblxubGV0IGJ1dHRvbkZpbHRlckNsZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NsZWFyRmlsdGVyJyk7XG5idXR0b25GaWx0ZXJDbGVhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBmaWx0ZXJzID0ge307XG4gICAgbWluUHJpY2UudmFsdWUgPSAwXG4gICAgbWF4UHJpY2UudmFsdWUgPSAwXG4gICAgY291bnQudmFsdWUgPSAxXG4gICAgY2F0ZWdvcnkuc2VsZWN0ZWRJbmRleCA9IDBcbiAgICBheGlvcy5wb3N0KFJvdXRpbmcuZ2VuZXJhdGUoJ2dldEdvb2RzJyksIHtcbiAgICAgICAgZmlsdGVycywgc29ydHMsIHBhZ2U6IDFcbiAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGJ1dHRvbkZpbHRlckNsZWFyLnZhbHVlID0gJ1N1Y2Nlc3MnO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uRmlsdGVyQ2xlYXIudmFsdWUgPSBcIkNsZWFyXCJcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgSW5zZXJ0KHJlc3BvbnNlLmRhdGEpXG4gICAgICAgICAgICBzZXRVUkwoMSx7fSxzb3J0cylcbiAgICAgICAgfSlcbn0pXG5cbmxldCBidXR0b25QcmljZVNvcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpY2VTb3J0Jyk7XG5idXR0b25QcmljZVNvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc29ydHMgPSB7J3R5cGUnOiAncHJpY2UnLCAnb3JkZXInOiBidXR0b25QcmljZVNvcnQuZGF0YXNldC5zb3J0fVxuICAgIGJ1dHRvblByaWNlU29ydC5kYXRhc2V0LnNvcnQgPT09IFwiQVNDXCIgPyBidXR0b25QcmljZVNvcnQuZGF0YXNldC5zb3J0ID0gXCJERVNDXCIgOiBidXR0b25QcmljZVNvcnQuZGF0YXNldC5zb3J0ID0gXCJBU0NcIlxuICAgIGF4aW9zLnBvc3QoUm91dGluZy5nZW5lcmF0ZSgnZ2V0R29vZHMnKSwge1xuICAgICAgICBmaWx0ZXJzLCBzb3J0cywgcGFnZTogMVxuICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgYnV0dG9uUHJpY2VTb3J0LnZhbHVlID0gJ1NvcnRlZCc7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b25QcmljZVNvcnQudmFsdWUgPSBcIlNvcnQgYnkgcHJpY2VcIlxuICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICBJbnNlcnQocmVzcG9uc2UuZGF0YSlcbiAgICAgICAgICAgIHNldFVSTCgxLGZpbHRlcnMsIHNvcnRzKVxuICAgICAgICB9KVxufSlcblxuXG5sZXQgYnV0dG9uQ291bnRTb3J0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50U29ydCcpO1xuYnV0dG9uQ291bnRTb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHNvcnRzID0geyd0eXBlJzogJ2NvdW50JywgJ29yZGVyJzogYnV0dG9uQ291bnRTb3J0LmRhdGFzZXQuc29ydH1cbiAgICBidXR0b25Db3VudFNvcnQuZGF0YXNldC5zb3J0ID09PSBcIkFTQ1wiID8gYnV0dG9uQ291bnRTb3J0LmRhdGFzZXQuc29ydCA9IFwiREVTQ1wiIDogYnV0dG9uQ291bnRTb3J0LmRhdGFzZXQuc29ydCA9IFwiQVNDXCJcbiAgICBheGlvcy5wb3N0KFJvdXRpbmcuZ2VuZXJhdGUoJ2dldEdvb2RzJyksIHtcbiAgICAgICAgZmlsdGVycywgc29ydHMsIHBhZ2U6IDFcbiAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGJ1dHRvbkNvdW50U29ydC52YWx1ZSA9ICdTb3J0ZWQnO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uQ291bnRTb3J0LnZhbHVlID0gXCJTb3J0IGJ5IGNvdW50XCJcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgSW5zZXJ0KHJlc3BvbnNlLmRhdGEpXG4gICAgICAgICAgICBzZXRVUkwoMSxmaWx0ZXJzLCBzb3J0cylcbiAgICAgICAgfSlcbn0pXG5cblxubGV0IGJ1dHRvbkNsZWFyU29ydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhclNvcnQnKTtcbmJ1dHRvbkNsZWFyU29ydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzb3J0cyA9IHt9O1xuICAgIGF4aW9zLnBvc3QoUm91dGluZy5nZW5lcmF0ZSgnZ2V0R29vZHMnKSwge1xuICAgICAgICBmaWx0ZXJzLCBzb3J0cywgcGFnZTogMVxuICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgYnV0dG9uQ2xlYXJTb3J0LnZhbHVlID0gJ1N1Y2Nlc3MnO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uQ2xlYXJTb3J0LnZhbHVlID0gXCJDbGVhclwiXG4gICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgIEluc2VydChyZXNwb25zZS5kYXRhKVxuICAgICAgICAgICAgc2V0VVJMKDEsZmlsdGVycyx7fSlcbiAgICAgICAgfSlcbn0pXG5cblxuLy8gLS0tLS0tLS0tLS0gR0VUIERBVEEgRklMVEVSIC0tLS0tLS0tLS0tIC8vXG5sZXQgY2F0ZWdvcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcnknKVxuY2F0ZWdvcnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZmlsdGVyc1tcImNhdGVnb3J5XCJdID0gY2F0ZWdvcnlbY2F0ZWdvcnkuc2VsZWN0ZWRJbmRleF0uaWRcbn0pXG5cbmxldCBtaW5QcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW5OdW0nKVxubWluUHJpY2UuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgbGV0IHByaWNlID0gZmlsdGVycy5wcmljZSA/IGZpbHRlcnMucHJpY2UubWF4IDogbWF4UHJpY2UudmFsdWVcbiAgICBmaWx0ZXJzW1wicHJpY2VcIl0gPSB7XG4gICAgICAgICdtaW4nOiBtaW5QcmljZS52YWx1ZSxcbiAgICAgICAgJ21heCc6IHByaWNlXG4gICAgfVxufSlcblxubGV0IG1heFByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21heE51bScpXG5tYXhQcmljZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBsZXQgcHJpY2UgPSBmaWx0ZXJzLnByaWNlID8gZmlsdGVycy5wcmljZS5taW4gOiBtaW5QcmljZS52YWx1ZVxuICAgIGZpbHRlcnNbXCJwcmljZVwiXSA9IHtcbiAgICAgICAgJ21pbic6IHByaWNlLFxuICAgICAgICAnbWF4JzogbWF4UHJpY2UudmFsdWVcbiAgICB9XG59KVxuXG5sZXQgY291bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWluQ291bnQnKVxuY291bnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgIGZpbHRlcnNbXCJtaW5Db3VudFwiXSA9IGNvdW50LnZhbHVlXG59KVxuXG4vLyAtLS0tLS0tLS0tLSBDVVNUT00gTUVUSE9EUyAtLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBJbnNlcnQoZGF0YSkge1xuICAgIHdoaWxlIChnb29kcy5sYXN0RWxlbWVudENoaWxkKVxuICAgICAgICBnb29kcy5yZW1vdmVDaGlsZChnb29kcy5sYXN0RWxlbWVudENoaWxkKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcbiAgICAgICAgZm9ybS5pbm5lckhUTUwgPSBkYXRhW2ldXG4gICAgICAgIGdvb2RzLmFwcGVuZENoaWxkKGZvcm0pXG4gICAgfVxuXG4gICAgbGV0IHBhZ2luYXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdpbmF0b3InKTtcbiAgICBwYWdpbmF0b3IuaW5uZXJIVE1MID0gZGF0YVtkYXRhLmxlbmd0aC0xXTtcbn1cblxuZnVuY3Rpb24gUGFnaW5hdGUodGFyZ2V0LCBwYWdlKXtcbiAgICB0YXJnZXQuc3R5bGUuY29sb3IgPSAnZG9kZ2VyYmx1ZSc7XG4gICAgdGFyZ2V0LnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ3VuZGVybGluZSdcbiAgICBheGlvcy5wb3N0KFJvdXRpbmcuZ2VuZXJhdGUoJ2dldEdvb2RzJyksIHtcbiAgICAgICAgZmlsdGVycywgc29ydHMsIHBhZ2VcbiAgICB9KVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIEluc2VydChyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIHRhcmdldC5zdHlsZS5jb2xvciA9ICcjNWViNWUwJztcbiAgICAgICAgICAgIHRhcmdldC5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9ICdub25lJ1xuICAgICAgICB9KVxufVxuXG5mdW5jdGlvbiBzZXRVUkwocGFnZV9kYXRhLCBmaWx0ZXJzX2RhdGEsIHNvcnRzX2RhdGEpe1xuICAgIGxldCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKClcbiAgICBzZXRVUkxQYXJhbXMocGFyYW1zLCB7XCJwYWdlXCI6IHBhZ2VfZGF0YX0pXG4gICAgc2V0VVJMUGFyYW1zKHBhcmFtcywgZmlsdGVyc19kYXRhKVxuICAgIHNldFVSTFBhcmFtcyhwYXJhbXMsIHNvcnRzX2RhdGEpXG4gICAgaGlzdG9yeS5wdXNoU3RhdGUoe1wiZmlsdGVyc1wiOiBmaWx0ZXJzX2RhdGEsIFwicGFnZVwiOiBwYWdlX2RhdGEsIFwic29ydHNcIjogc29ydHNfZGF0YX0sICcnLCAnPycrcGFyYW1zLnRvU3RyaW5nKCkpO1xufVxuXG5mdW5jdGlvbiBzZXRVUkxQYXJhbXMocGFyYW1zLCB2YWx1ZSl7XG4gICAgZm9yKGxldCBrZXkgaW4gdmFsdWUpe1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2tleV0gPT09ICdvYmplY3QnKXtcbiAgICAgICAgICAgIGZvcihsZXQga2V5X2lubmVyIGluIHZhbHVlW2tleV0pXG4gICAgICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChrZXlfaW5uZXIsIHZhbHVlW2tleV1ba2V5X2lubmVyXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICBpZiAodmFsdWVba2V5XS5sZW5ndGggIT09IDApXG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKGtleSwgdmFsdWVba2V5XSk7XG4gICAgfVxufVxuXG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9